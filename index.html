<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <!-- ################## APPLE ################## -->
    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Firebase Database Quickstart">
    <meta name="apple-mobile-web-app-status-bar-style" content="#303F9F">
    <link rel="apple-touch-icon" sizes="57x57" href="icons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="icons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="icons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="icons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="icons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="icons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="icons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="icons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="icons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="icons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="manifest.json">
    
    <!-- Disable tap highlight on IE -->
    <meta name="msapplication-tap-highlight" content="no">    

    <!-- ################## MICROSOFT ################## -->
    <meta name="msapplication-TileColor" content="#303F9F">
    <meta name="msapplication-TileImage" content="icons/ms-icon-144x144.png">
    
    <!-- ################## CHROME ################## -->
    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Firebase Database Quickstart">
    <meta name="theme-color" content="#303F9F">
    
    <title>PCR Master mix kalkulator</title>
    <!-- <link rel="stylesheet" type="text/css" href="css/fontawesome-all.min.css"> -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <!-- the below three lines are a fix to get HTML5 semantic elements working in old versions of Internet Explorer-->
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
    <![endif]-->
</head>

<body>
<!--[if lte IE 9]>
<div><h3>You are using an <strong>outdated</strong> browser.</h3><p>Many things may be non-functional if you continue, please upgrade your browser to improve your experience.</p></div>
<![endif]-->

    <div class="maindiv">
        <div class="title">
            <a href="./"><h1>PCR Master mix kalkulator</h1></a>
        </div>
            <div class="container">
                <div class="left-side">
                    <div class="inputVolume">
                        <span class="diff">Objętość wejściowa:</span>
                        <input type="number" id="inputMaxVolume" value="25" min="0">
                    </div>      
                    <table>
                        <thead>
                            <tr>
                                <th><strong>Odczynnik</strong></th>
                                <th><strong>Jedna próba</strong></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>H2O</td>
                                <td><input type="number" id="inputH2O" value="14.7" min="0"></td>
                            </tr>
                            <tr>
                                <td>10 x Bufor</td>
                                <td><input type="number" id="inputBuffer" value="1.75" min="0"></td>
                            </tr>
                            <tr>
                                <td>Enhancer 5x</td>
                                <td><input type="number" id="inputEnhancer" value="1.75" min="0"></td>
                            </tr>
                            <tr>
                                <td>MgCl2</td>
                                <td><input type="number" id="inputMgCl2" value="2.5" min="0"></td>
                            </tr>
                            <tr>
                                <td>Starter 1 (5 mM)</td>
                                <td><input type="number" id="inputPrimer1" value="0.5" min="0"></td>
                            </tr>
                            <tr>
                                <td>Starter 2 (5 mM)</td>
                                <td><input type="number" id="inputPrimer2" value="0.5" min="0"></td>
                            </tr>
                            <tr>
                                <td>dNTPs</td>
                                <td><input type="number" id="inputDNTPs" value="0.4" min="0"></td>
                            </tr>
                            <tr>
                                <td>polimeraza <i>Taq</i> 5u</td>
                                <td><input type="number" id="inputPolymerase" value="0.4" min="0"></td>
                            </tr>
                            <tr>
                                <td>DNA</td>
                                <td><input type="number" id="inputDNA" value="2.5" min="0"></td>
                            </tr>
                            <tr>
                                <td><span id="inputDifferenceText">OK</span></td>
                                <td>Różnica: <span id="inputDifferenceValue">0</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="right-side">
                    <div class="outputVolume">
                        <span class="diff">Objętość wyjściowa:</span>
                        <input type="number" id="outputMaxVolume" value="25" min="0">
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th><strong>Odczynnik</strong></th>
                                <th><strong>Jedna próba</strong></th>
                                <th><strong>Liczba prób</strong></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>PCR Mix</td>
                                <td>1</td>
                                <td><input type="number" id="numberOfProbes" value="16" min="0"></td>
                            </tr>
                            <tr>
                                <td>H2O</td>
                                <td><span id="outputH2O">0</span></td>
                                <td><span id="outputH2OMax">0</span></td>
                            </tr>
                            <tr>
                                <td>10 x Bufor</td>
                                <td><span id="outputBuffer">0</span></td>
                                <td><span id="outputBufferMax">0</span></td>
                            </tr>
                            <tr>
                                <td>Enhancer 5x</td>
                                <td><span id="outputEnhancer">0</span></td>
                                <td><span id="outputEnhancerMax">0</span></td>
                            </tr>
                            <tr>
                                <td>MgCl2</td>
                                <td><span id="outputMgCl2">0</span></td>
                                <td><span id="outputMgCl2Max">0</span></td>
                            </tr>
                            <tr>
                                <td>Starter 1 (5 mM)</td>
                                <td><span id="outputPrimer1">0</span></td>
                                <td><span id="outputPrimer1Max">0</span></td>
                            </tr>
                            <tr>
                                <td>Starter 2 (5 mM)</td>
                                <td><span id="outputPrimer2">0</span></td>
                                <td><span id="outputPrimer2Max">0</span></td>
                            </tr>
                            <tr>
                                <td>dNTPs</td>
                                <td><span id="outputDNTPs">0</span></td>
                                <td><span id="outputDNTPsMax">0</span></td>
                            </tr>
                            <tr>
                                <td>polimeraza <i>Taq</i> 5u</td>
                                <td><span id="outputPolymerase">0</span></td>
                                <td><span id="outputPolymeraseMax">0</span></td>
                            </tr>
                            <tr>
                                <td>DNA</td>
                                <td><span id="outputDNA">0</span></td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
        </div>
        <div id="offline-div">
            <span>Dodaj tą stronę do offline</span>
            <div class="offline-buttons">
                <button id="offline-button-yes">TAK</button>
                <button id="offline-button-no">NIE</button>
            </div>
        </div>
<!--         
        <button onclick="displayNotification();">PUSH</button>
        

        <header>
            <h1>Push Codelab</h1>
        </header>
        
        <main>
            <p>Welcome to the push messaging codelab. The button below needs to be
            fixed to support subscribing to push.</p>
            <p>
              <button disabled class="js-push-btn mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect">
                Enable Push Messaging
              </button>
            </p>
            <section class="subscription-details js-subscription-details is-invisible">
              <p>Once you've subscribed your user, you'd send their subscription to your
              server to store in a database so that when you want to send a message
              you can lookup the subscription and send a message to it.</p>
              <p>To simplify things for this code lab copy the following details
              into the <a href="https://web-push-codelab.glitch.me//">Push Companion
              Site</a> and it'll send a push message for you, using the application
              server keys on the site - so make sure they match.</p>
              <pre><code class="js-subscription-json"></code></pre>
            </section>
        </main> -->

        <!-- <button id="subscribeuser">Subscribe user</button> -->
        <button id="saveoffline" class="button-offline save" title="Zapisz w historii"><i class="fas fa-download"></i></button>
        <button id="loadoffline" class="button-offline load" title="Otwórz"><i class="fas fa-upload"></i></button>
    </div>
 
    <!-- ### SCRIPTS ### -->
<!-- 
    <script src="https://www.gstatic.com/firebasejs/5.0.4/firebase.js"></script>
    
    <script>
        // Initialize Firebase
        var config = {
            apiKey: "AIzaSyB1BW1x_rmxlkh8C32lNzQ3KKbKNielOr0",
            authDomain: "mojefirebase.firebaseapp.com",
            databaseURL: "https://mojefirebase.firebaseio.com",
            projectId: "mojefirebase",
            storageBucket: "mojefirebase.appspot.com",
            messagingSenderId: "616477065162"
        };
        firebase.initializeApp(config);
    </script> -->

    <script src="js/script.js"></script>
    <script src="js/sw.js"></script>

    <script>
        // function subscribeUser() {
        //     if ('serviceWorker' in navigator) {
        //         navigator.serviceWorker.ready
        //         .then(function(reg) {
        //         reg.pushManager.subscribe({userVisibleOnly: true})
        //         .then(function(sub) {
        //             console.log('Endpoint URL: ', sub.endpoint);
        //         }).catch(function(e) {
        //             if (Notification.permission === 'denied') {
        //                 console.warn('Permission for notifications was denied');
        //             } else {
        //                 console.error('Unable to subscribe to push.', e);
        //             }
        //         });
        //         })
        //     }
        // }

        function displayNotification() {
            if (Notification.permission == 'granted') {
                var notificationIcon = 'icons/favicon.png';
                navigator.serviceWorker.getRegistration().then(function(reg) {
                var options = {
                    body: 'Here is a notification body!',
                    icon: notificationIcon,
                    vibrate: [100, 50, 100],
                    data: {
                    dateOfArrival: Date.now(),
                    primaryKey: 1
                    },
                    actions: [
                        {action: 'explore', title: 'Explore this new world', icon: notificationIcon},
                        {action: 'close', title: 'Close notification', icon: notificationIcon},
                    ]
                };
                reg.showNotification('Hello world!', options);
                });
            } else {
                console.warn('Brak uprawnień do wyświetlania powiadomień.');
            }
        }
    </script>
    
</body>
</html>
